<!DOCTYPE html>
<html>

<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Programmation et Projet encadré</title>
  <link href="styles.css" rel="stylesheet">
  <script src="script.js" defer></script>
<link rel="stylesheet"
href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css" />
</head>
<body>
    <div class="section">
        <div class="tabs is-centred">
    <ul class="tabs">
        <li data-tab-target="#home" class="active tab">Home</li>
        <li data-tab-target="#tableaux" class="tab">Les tableaux</li>
        <li data-tab-target="#script" class="tab">Scripts</li>
        <li data-tab-target="#itrameur" class="tab">Itrameur</li>
        <li data-tab-target="#about" class="tab">À propos de nous</li>
        
      </ul>
    </div>
</div>
      <div class="tab-content">
        <div id="home" data-tab-content class="active">
          <p><div class="columns">
            <div class="column">
             
            </div>
            <div class="column is-two-thirds">
        
        <section class="hero is-primary">
            <div class="hero-body">
                <div class="container">
                <h1 class="title">
                Programmation et Projet Encadré 
                </h1>
                <h2 class="subtitle">
                Étranger, Auslander, stranger
                </h2>
                
                </div>
                </div>
                </section>
            
                 
                 <div class="box">
                  <img src="images/fox.jpg" width="35%"/>  
                 <h2 class="title">Un projet, une idée</h2>
                 <p>Au début de notre année de M1, il a été annoncé que nous allions réaliser un projet d'analyse textuelle de bout en bout : de la création du corpus
                  à son analyse en passant par la réalisation d'un site (celui-ci !) où nous allions présenter notre démarche et nos résultats. 
                  <br>Le corpus à constituer était un corpus multilingue crée à partir de pages récupérées sur le web en s'appuyant sur une thématique autour des mots de notre choix. </p>
                  <p>Notre projet porte sur le mot <i>Étranger</i>.
                  <br>
                  <br>L'idée de ce projet est né après notre lecture du très intéressant article de Ryan Bloom sur la difficulté de traduire le célèbre incipit de
                <i>L'Étranger</i> de Camus. Au début de l'article, il évoque brièvement l'histoire de la traduction du titre du livre. <i>The Outsider</i>, 
                <i>The Stranger</i>...</p> Mais comment rendre compte de la signification du mot français dans la langue de Shakespeare ?
                <br> De là est né notre sujet : <b>le mot français <i>Étranger</i> et ses équivalents traductionnels dans d'autres langues.</b>
                  <br> 
                  <br> En effet le français est caractérisé par un nombre limité de substantifs. La langue française a fait l'objet d'un "purisme linguistique", surtout
                   au 17e siècle quand l'Accadémie française, crée en 1635 par Richelieu, se donne pour mission de d'assurer la clarté des règles de langue et l'entrée
                   des mots dans le dictionnaire. Il en a résulté un appauvrissement du vocabulaire. En revanche ni la langue anglaise, ni la langue allemande n'ont fait 
                   l'objet d'un tel purisme. C'est pourquoi il convient de revenir sur l'étymologie des différents mots de notre corpus afin d'en saisir <b> les distinctions
                   sémantiques.</b>

                                   

        </div>
          </div>
                <div class="column">
          </div>
          </div></p>
        </div>
        <div id="tableaux" data-tab-content>
            <p><div class="columns">
                <div class="column">
                 
                </div>
                <div class="column is-two-thirds">
            
            <section class="hero is-primary">
                <div class="hero-body">
                    <div class="container">
                    <h1 class="title">
                    Les tableaux
                    </h1>
                    <h2 class="subtitle">
                    test
                    </h2>
                    
                    </div>
                    </div>
                    </section>
                
                     
                     <div class="box">
                      <img src="images/fox.jpg" width="35%"/>  
                     <h2 class="title">Tout plein de tableaux</h2>
                      <p>Lorsque nous avons fait nos aspirations, nous avons organisé toutes les informations concernant les pages aspirées dans
                        différents tableaux.
                      </p>
                      <br>
                      <h3><b>Français :</b></h3>
                      <br>
                      <br>
                      <iframe id="" title="tableau1" style=" height: 500px; overflow:hidden;" width=65%
                      src="./Execution_Script/tableauFR.html"></iframe>
                      <br>
                      <br>
                      <br>
                      <h3><b>Allemand :</b></h3>
                      <br>
                      <br>
                        <iframe id="" title="tableau2" style=" height: 500px; overflow:hidden;" width=65%
                     src="./Execution_Script/tableau_all_fremd.HTML"></iframe>
                     <br>
                     <br>
                         <iframe id="" title="tableau3" style=" height: 500px; overflow:hidden;" width=65%
                     src="./Execution_Script/tableau_all_auslander.HTML "></iframe>


            </div>
              </div>
                    <div class="column">
              </div>
              </div></p>
            </div> 
              <div id="about" data-tab-content>
                <p><div class="columns">
                  <div class="column">
                   
                  </div>
                  <div class="column is-two-thirds">
              
              <section class="hero is-primary">
                  <div class="hero-body">
                      <div class="container">
                      <h1 class="title">
                      A propos de nous
                      </h1>
                      <h2 class="subtitle">
                      test
                      </h2>
                      
                      </div>
                      </div>
                      </section>
                  
                       
                       <div class="box">
                      <img src="images/fox.jpg" width="35%"/>  
                       <h2 class="title">Qui sommes nous ?</h2>
                       <p>Nous sommes trois élèves pleines de motivation et de passion pour Bash et autres langages de programmation (<3) en première année de master TAL à la Sorbonne Nouvelle. Ce site constitue la finalité de notre PPE réalisé durant le premier semestre. <br>Voici l'équipe :
                         <br><b>Natacha :</b> 
                         <br><u>Point fort :</u> Adore Bash. 
                         <br><u>Point faible :</u> Adore Bash.
                         <br><b>Aliénor :</b>
                         <br><u>Point fort :</u> Sait rédiger des phrases en excellent français.
                         <br><u>Point faible :</u> Trouve que Bash n'a pas un vocabulaire assez étendu pour capter toutes les nuances de la langue.
                         <br><b>Juliette :</b> 
                         <br><u>Point fort :</u> A des notions en design.
                         <br><u>Point faible :</u> Préfère Python.</p>

              </div>
                </div>
                      <div class="column">
                </div>
                </div></p>
              </div>
              <div id="script" data-tab-content>
                <p><div class="columns">
                  <div class="column">
                   
                  </div>
                  <div class="column is-two-thirds">
              
              <section class="hero is-primary">
                  <div class="hero-body">
                      <div class="container">
                      <h1 class="title">
                      Scripts
                      </h1>
                      <h2 class="subtitle">
                      test
                      </h2>
                      
                      </div>
                      </div>
                      </section>
                  
                       
                       <div class="box">
                        <img src="images/fox2.jpg" width="35%"/>  
                       <h2 class="title">L'avancée du script</h2>
                       <p> El famoso script</p>
                         <code>#!/usr/bin/env bash

#===============================================================================
# Ce script est notre programme pour traiter les URLs. Il permet de créer un tableau HTML en sortie avec chaque URL, le code de réponse correspondant .
# Il s'utilise dans le dossier avec le fichier à traiter <URL.txt> (avec un URL/ligne) avec la ligne de commande :
# bash traitement_url_base.sh <URL.txt>  <tableauURL.html> "<motif recherché>"

#<tableauURL.html>  est le fichier de sortie du tableau HTML (ici il n'existe pas avant le lancement du script).
#Il est nécéssaire d'avoir créer un dossier 'aspirations' dans le dossier d'utilisation du script.
#===============================================================================
if [ $# -ne 3 ]
then
	echo " Ce programme demande trois arguments."
	exit
fi

# On vérifie que le fichier d'URLs existe :
if [ -f $1 ]
	then
		echo "Fichier OK"
	else
		echo "Ceci n'est pas un fichier valide."
		exit
fi

# On attribue les fichiers en argument à des variables :

fichier_urls=$1 # le fichier d'URL en entrée
fichier_tableau=$2 # le fichier HTML en sortie
motif=$3 # le motif recherché

echo $fichier_urls;
basename=$(basename -s .txt $fichier_urls)

# On crée l'architecture HTML du tableau de sortie dans le fichier donné en second argument :
#Déclaration de l'encodage et on associe Bulma pour la mise en forme CSS
echo "<!DOCTYPE html><html><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css" /></head><body>" > $fichier_tableau
echo "<h2>Tableau $basename :</h2>" >> $fichier_tableau
echo "<br/>" >> $fichier_tableau
echo "<table>" >> $fichier_tableau
echo "<tr><th>ligne</th><th>code</th><th>URL</th><th>encodage</th><th>dump</th><th>text</th><th>N°Occ</th><th>contextes</th><th>concordances</th></tr>" >> $fichier_tableau
# On crée un compteur pour les URLs/le nombre de lignes :               
lineno=1;
#
while read -r line;
do
# On récupère l'URL (=la ligne)
    URL=$line
	# On récupère le code :
    CODEHTTP=$(curl -I -s $line | grep -e "^HTTP/" | grep -Eo "[0-9]{3}" | head -n1)	
	# On récupère l'encodage :
    ENC=$(curl -I -s $line | grep -Po "charset=[\w-]+"| cut -d= -f2)
	# On récupère le contenu de la page HTML
	aspiration=$(curl $URL)
	# On met le contenu dans un document HTML dédié
	echo "$aspiration" > "aspirations/$basename-$lineno.html"

	# On affiche les informations importantes dans le terminal
	#echo -e "\tURL : $URL";
	echo -e "\tURL N°: $lineno";
    echo -e "\tCode : $CODEHTTP";

	# Si ENC n'existe pas :
	if [[ ! $ENC ]]
	then
		# On définit l'encodage en UTF-8
		echo -e "\tEncodage non détecté, on prend UTF-8 par défaut.";
		ENC="UTF-8";
	# Sinon on garde l'encodage détécté
	else
		echo -e "\tEncodage : $ENC";
	fi

	# Si le code est égal à 200 :
	if [[ $CODEHTTP -eq 200 ]]                                                                                                                                         
	then 
		dump=$(lynx -dump -nolist -assume_charset=$ENC -display_charset=$ENC $URL)
		echo "$dump" > "dumps-text/$basename-$lineno.txt" 
		if [[ $ENC -ne "UTF-8" && -n "$dump" ]]
		# On vient convertir le fichier en UTF-8 grâce à iconv
			then
				dump=$(echo $dump | iconv -f $ENC -t UTF-8//IGNORE)
				
		fi
	# Si le code n'est pas 200, on ne récupère pas le contenu :	
	else
		echo -e "\tCode différent de 200, utilisation d'un dump vide."
		dump=""
		ENC=""
	fi


echo "$dump" > "./dumps-text/fich-$lineno.txt"

count=$(echo $dump | grep -o -i -P "$motif"| wc -l)
grep -E -A2 -B2 $motif ./dumps-text/fich-$lineno.txt > ./contextes/fich-$lineno.txt
bash concordance.sh ./dumps-text/fich-$lineno.txt $motif > ./concordances/fich-$lineno.html
echo "<tr><td>$lineno</td><td>$CODEHTTP</td><td><a href=\"$URL\">$URL</a></td><td>$ENC</td><td><a href="./aspirations/fich-$lineno.html">html</a></td><td><a href="./dumps-text/fich-$lineno.txt">text</a></td><td>$count</td><td><a href="./contextes/fich-$lineno.txt">contextes</a></td><td><a href="./concordances/fich-$lineno.html">concordance</a></td></tr>" >> $fichier_tableau
lineno=$((lineno+1));

done < $fichier_urls               
# On ferme le fichier HTML :
                    echo "</table></body></html>" >> $fichier_tableau</code>

              </div>
                </div>
                      <div class="column">
                </div>
                </div></p>
              </div>
<div id="itrameur" data-tab-content>
            <p><div class="columns">
                <div class="column">
                 
                </div>
                <div class="column is-two-thirds">
            
            <section class="hero is-primary">
                <div class="hero-body">
                    <div class="container">
                    <h1 class="title">
                    Analyse Itrameur
                    </h1>
                    <h2 class="subtitle">
                    test
                    </h2>
                    
                    </div>
                    </div>
                    </section>
                
                     
                     <div class="box">
                      <img src="images/fox.jpg" width="35%"/>  
                     <h2 class="title">Analyse Itrameur</h2>
                     <p>EN COURS</p>
                     <p>EN COURS </p>
            </div>
              </div>
                    <div class="column">
              </div>
              </div></p>
            </div> 
        </div>









</body>

</html>
